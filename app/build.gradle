plugins {
    id 'com.android.application'
    id 'kotlin-android'
    id 'kotlin-android-extensions'
    id 'kotlin-kapt'
}

android {
    compileSdkVersion rootProject.compileSdkVersion
    buildToolsVersion rootProject.buildToolsVersion

    defaultConfig {
        applicationId rootProject.applicationId
        minSdkVersion rootProject.minSdkVersion
        targetSdkVersion rootProject.targetSdkVersion
        versionCode rootProject.versionCode
        versionName rootProject.versionName
        multiDexEnabled true
        resConfigs 'en','zh-rCN'

        javaCompileOptions{
            annotationProcessorOptions {
                arguments = [student: 'hello luyao']
            }
        }
    }

    buildTypes {
        debug {
            minifyEnabled false     // 打包代码混淆+自动删除无用代码
            shrinkResources false    // 打包自动删除无用资源是否启用
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
        release {
            minifyEnabled false     // 打包代码混淆+自动删除无用代码
            shrinkResources false    // 打包自动删除无用资源是否启用
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    dataBinding {
        enabled = true
    }
}

dependencies {
    rootProject.commonDependencies.each { k, v ->
        implementation v
    }
    implementation "com.facebook.react:react-native:$rootProject.reactVersion"
    implementation project(path: ':dialog')
    implementation project(path: ':base')
    implementation project(path: ':my-views')
    implementation project(path: ':android-view')
    implementation project(path: ':android-view')
    implementation project(path: ':design')
    implementation project(path: ':util')
    implementation project(path: ':webview')
    implementation project(path: ':common')
    implementation project(path: ':download')
    implementation 'androidx.legacy:legacy-support-v4:1.0.0'
    implementation project(path: ':react-native')
    implementation project(path: ':download')
    implementation project(path: ':rxAndroid')
    implementation project(path: ':base-util')

    // ARouter注解处理器
    implementation project(":arouter-annotations")
    implementation project(":arouter-compiler")
    annotationProcessor project(":arouter-compiler")

    annotationProcessor rootProject.autoServiceDependency
    implementation rootProject.autoServiceDependency
    implementation 'com.android.support:multidex:1.0.1'
    debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.5'
    kapt "androidx.room:room-compiler:$rootProject.roomVersion"
}